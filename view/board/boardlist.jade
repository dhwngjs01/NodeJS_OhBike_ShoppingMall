include ../index.jade
	link(rel='stylesheet',href='../css/board.css')
	title 글 목록
	.frame
		ul#ulTable
			li
				ul
					li No
					li 제목
					li 작성일
					li 작성자
					li 조회수
			each board, i in list
				li
					ul
						li=board.board_no
						li.left
							a(href="/board/read?no="+board.board_no)=board.board_title
						li=board.board_wdate.format('yyyy-MM-dd')
						li=board.user_name
						li=board.board_view
		.board_div
			if(user_no)
				button#board_btn 글쓰기
	.paging
		-var pover=Math.trunc(pager.pagecount / 10)
		if(!email)
			-var emaild=''
		if(pover)
			if(pno<11)
			- var n = 1 //시작페이지
			- var max=10 //끝페이지
			- var next=11 //다음10페이지
			if(pager.pagecount%10!=0)
				- var check=1 //다음,마지막페이지 체크
			else
			- var n=pno%10 ==0 ? (Math.trunc(pno/10)-1)*10+1 : Math.trunc(pno/10)*10+1 //시작페이지
			- var ip=Math.trunc(n/10) //시작페이지앞자리
			- var fp=Math.trunc(pager.pagecount/10) //마지막페이지앞자리
			-var pna=pager.pagecount-n //잔여페이지수
			-var next=(ip+1)*10+1 //다음10페이지
			-var prev=ip*10 //전10페이지
			if(ip == fp)
				-var max=n+pna
			else
				-var max=n+9
		else
			- var n = 1
			- var max=pager.pagecount
		span
			ul
				if(pno>10)
					li
						a#first(href="/board?page=1" style="height: 14px;")
							img(src="../../img/dback_black.png")
				if(prev)
					li
						a#prev(href="/board?page="+prev style="padding: 6px 4px 4px 4px;height: 12px;")
							img(src="../../img/back_black.png")
				while n <= max
					li
						if(pno==n)
							a(href="/board?page="+n style="color: #fff;border: 1px solid rgb(0, 153, 255);background-color: rgb(0, 153, 255);")=n++
						else
							a(href="/board?page="+n)=n++
				if((ip != fp && pager.pagecount > max)|| pager.pagecount>max)
					li
						a#next(href="/board?page="+next style="padding: 6px 4px 4px 4px;height: 12px;")
							img(src="../../img/forward_black.png")
					li
						a#final(href="/board?page="+pager.pagecount style="height: 14px;")
							img(src="../../img/dforward_black.png")
	script.
		$("#board_btn").click(()=>{
			location.href="/board/writepage"
		})
 
